{"map":"{\"version\":3,\"sources\":[\"/Users/anastasia/Documents/job/vue/mersh/node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"8bfc0482-vue-loader-template\\\"}!/Users/anastasia/Documents/job/vue/mersh/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/Users/anastasia/Documents/job/vue/mersh/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/anastasia/Documents/job/vue/mersh/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anastasia/Documents/job/vue/mersh/src/views/Category.vue?vue&type=template&id=9ddba284&\",\"src/views/Category.vue\",\"/Users/anastasia/Documents/job/vue/mersh/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/Users/anastasia/Documents/job/vue/mersh/node_modules/cache-loader/dist/cjs.js??ref--12-0!/Users/anastasia/Documents/job/vue/mersh/node_modules/thread-loader/dist/cjs.js!/Users/anastasia/Documents/job/vue/mersh/node_modules/babel-loader/lib/index.js!/Users/anastasia/Documents/job/vue/mersh/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/anastasia/Documents/job/vue/mersh/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anastasia/Documents/job/vue/mersh/node_modules/eslint-loader/index.js??ref--13-0!/Users/anastasia/Documents/job/vue/mersh/node_modules/eslint-loader/index.js??ref--13-0!/Users/anastasia/Documents/job/vue/mersh/src/views/Category.vue?vue&type=script&lang=js&\",\"/Users/anastasia/Documents/job/vue/mersh/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/anastasia/Documents/job/vue/mersh/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anastasia/Documents/job/vue/mersh/node_modules/eslint-loader/index.js??ref--13-0!/Users/anastasia/Documents/job/vue/mersh/src/views/Category.vue\",\"/Users/anastasia/Documents/job/vue/mersh/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/Users/anastasia/Documents/job/vue/mersh/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!/Users/anastasia/Documents/job/vue/mersh/node_modules/css-loader/index.js??ref--9-oneOf-1-1!/Users/anastasia/Documents/job/vue/mersh/node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!/Users/anastasia/Documents/job/vue/mersh/node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!/Users/anastasia/Documents/job/vue/mersh/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/anastasia/Documents/job/vue/mersh/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anastasia/Documents/job/vue/mersh/node_modules/eslint-loader/index.js??ref--13-0!/Users/anastasia/Documents/job/vue/mersh/src/views/Category.vue?vue&type=style&index=0&lang=sass&\"],\"names\":[\"render\",\"_vm\",\"this\",\"_h\",\"$createElement\",\"_c\",\"_self\",\"staticClass\",\"_v\",\"_s\",\"$route\",\"name\",\"path\",\"split\",\"join\",\"toUpperCase\",\"pop\",\"params\",\"_l\",\"product\",\"key\",\"id\",\"attrs\",\"to\",\"tag\",\"element\",\"hoverText\",\"staticRenderFns\",\"Categoryvue_type_script_lang_js_\",\"data\",\"categories\",\"collections\",\"categoryId\",\"collectionId\",\"products\",\"total\",\"page\",\"domen\",\"created\",\"getCategories\",\"window\",\"addEventListener\",\"showVisible\",\"beforeDestroy\",\"scroll\",\"removeEventListener\",\"computed\",\"Object\",\"objectSpread\",\"vuex_esm\",\"methods\",\"fetch\",\"context\",\"axios_default\",\"a\",\"get\",\"then\",\"res\",\"i\",\"length\",\"push\",\"catch\",\"error\",\"console\",\"log\",\"elements\",\"document\",\"getElementsByClassName\",\"secondToLastElement\",\"isVisible\",\"Math\",\"ceil\",\"getCategoryId\",\"forEach\",\"elem\",\"toLowerCase\",\"components\",\"app-product\",\"Product\",\"mixins\",\"views_Categoryvue_type_script_lang_js_\",\"component\",\"componentNormalizer\",\"__webpack_exports__\",\"_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Category_vue_vue_type_style_index_0_lang_sass___WEBPACK_IMPORTED_MODULE_0__\",\"__webpack_require__\",\"_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Category_vue_vue_type_style_index_0_lang_sass___WEBPACK_IMPORTED_MODULE_0___default\",\"n\"],\"mappings\":\"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\",\"sourcesContent\":[\"var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\\\"category d-flex flex-column\\\"},[_c('div',{staticClass:\\\"container container-main d-flex flex-grow-1\\\"},[_c('div',{staticClass:\\\"container-inner\\\"},[_c('div',{staticClass:\\\"products\\\"},[_c('h2',{staticClass:\\\"title products__title text-center\\\"},[_vm._v(_vm._s(_vm.$route.name === 'new' ? _vm.$route.path.split('-').join(' ').toUpperCase().split('/').pop() : _vm.$route.params.name.split('-').join(' ').toUpperCase()))]),_c('div',{staticClass:\\\"d-flex flex-wrap align-items-start justify-content-start\\\"},_vm._l((_vm.products),function(product){return _c('router-link',{key:product.id,staticClass:\\\"product\\\",attrs:{\\\"to\\\":{name: _vm.$route.name + '-product', params: { id: product.id }},\\\"tag\\\":\\\"a\\\"}},[_c('transition',{attrs:{\\\"name\\\":\\\"show-product\\\"}},[_c('app-product',{attrs:{\\\"element\\\":product,\\\"hoverText\\\":_vm.hoverText}})],1)],1)}),1)])])])])}\\nvar staticRenderFns = []\\n\\nexport { render, staticRenderFns }\",\"<template>\\n  <div class=\\\"category d-flex flex-column\\\">\\n\\n    <div class=\\\"container container-main d-flex flex-grow-1\\\">\\n      <div class=\\\"container-inner\\\">\\n\\n        <div class=\\\"products\\\">\\n          <h2 class=\\\"title products__title text-center\\\">{{ $route.name === 'new' ? $route.path.split('-').join(' ').toUpperCase().split('/').pop() : $route.params.name.split('-').join(' ').toUpperCase() }}</h2>\\n          <div class=\\\"d-flex flex-wrap align-items-start justify-content-start\\\">\\n            <router-link class=\\\"product\\\"\\n              :to=\\\"{name: $route.name + '-product', params: { id: product.id }}\\\"\\n              tag=\\\"a\\\"\\n              v-for=\\\"product in products\\\"\\n              v-bind:key=\\\"product.id\\\">\\n              <transition name=\\\"show-product\\\">\\n                <app-product\\n                  :element=\\\"product\\\"\\n                  :hoverText=\\\"hoverText\\\">\\n                </app-product>\\n              </transition>\\n            </router-link>\\n           </div>\\n        </div>\\n\\n      </div>\\n    </div>\\n\\n  </div>\\n</template>\\n\\n<script>\\nimport axios from 'axios'\\nimport Product from '@/components/Product.vue'\\nimport { mapGetters } from 'vuex'\\nimport { scrollMixin, visible } from '@/mixins'\\n\\nexport default {\\n  name: 'category',\\n  data () {\\n    return {\\n      categories: '',\\n      collections: '',\\n      categoryId: '',\\n      collectionId: '',\\n      products: [],\\n      total: '',\\n      page: 1,\\n      hoverText: 'Подробнее',\\n      domen: process.env.VUE_APP_DOMEN\\n    }\\n  },\\n  created () {\\n    this.page = 1\\n    this.getCategories()\\n    window.addEventListener('scroll', this.showVisible)\\n  },\\n  beforeDestroy () {\\n    this.scroll(0)\\n    window.removeEventListener('scroll', this.showVisible)\\n  },\\n  computed: {\\n    ...mapGetters([\\n      // 'products'\\n    ])\\n  },\\n  methods: {\\n    fetch () {\\n      var context = this\\n      if (context.$route.name === 'new') {\\n        var path = context.domen + '/api/products/' + context.$route.name + '/' + context.page\\n      } else if (context.$route.name === 'category') {\\n        var path = context.domen + '/api/products/' + context.$route.name + '/' + context.categoryId + '/' + context.page\\n      } else if (context.$route.name === 'collection') {\\n        var path = context.domen + '/api/products/' + context.$route.name + '/' + context.collectionId + '/' + context.page\\n      }\\n      axios.get(path)\\n        .then(res => {\\n          // console.log(res)\\n          // context.products = res.data.products\\n          for (let i = 0; i < res.data.products.length; i++) {\\n            context.products.push(res.data.products[i])\\n          }\\n          context.total = res.data.total\\n        })\\n        .catch(error => {\\n          console.log(error)\\n          context.products = []\\n          context.page = 1\\n          context.total = 0\\n        })\\n    },\\n    showVisible () {\\n      var elements = document.getElementsByClassName('product')\\n      var secondToLastElement = elements[elements.length - 1]\\n      if (this.isVisible(secondToLastElement) && this.page < Math.ceil(this.total / 12)) {\\n        this.page += 1\\n        this.fetch()\\n      }\\n    },\\n    getCategories () {\\n      var context = this\\n\\n      axios.get(context.domen + '/api/info/main')\\n        .then(res => {\\n          // console.log(res)\\n          context.categories = res.data.categories\\n          context.collections = res.data.collections\\n          context.getCategoryId()\\n          context.fetch()\\n        })\\n        .catch(error => console.log(error))\\n    },\\n    getCategoryId () {\\n      var context = this\\n      context.products = []\\n      context.page = 1\\n      context.total = 0\\n\\n      if (context.$route.name === 'category') {\\n        this.categories.forEach( function (elem) {\\n          if (elem.name.toLowerCase().split(' ').join('-') === context.$route.params.name) {\\n            context.categoryId = elem.id\\n          }\\n        })\\n      } else if (context.$route.name === 'collection') {\\n        this.collections.forEach( function (elem) {\\n          if (elem.name.toLowerCase().split(' ').join('-') === context.$route.params.name) {\\n            context.collectionId = elem.id\\n          }\\n        })\\n      }\\n\\n    }\\n  },\\n  components: {\\n    'app-product': Product\\n  },\\n  mixins: [scrollMixin, visible]\\n}\\n</script>\\n\\n<style lang=\\\"sass\\\">\\n@import '@/sass/_variables.sass'\\n.category\\n  .container-inner\\n    // padding-top: 25px\\n    // padding-bottom: 69px\\n    padding-top: 1.302vw\\n    padding-bottom: 3.594vw\\n\\n.products__title\\n  // margin-bottom: 67px\\n  // margin-top: 67px\\n  margin-bottom: 3.490vw\\n  margin-top: 3.490vw\\n\\n.show-product-enter-active,\\n.show-product-leave-active\\n  transition: opacity .5s\\n\\n.show-product-enter,\\n.show-product-leave-to\\n  opacity: 0\\n\\n@media(max-width: 1199px)\\n  .category\\n    .container-inner\\n      padding-top: calc(25px / #{$lose-m})\\n      padding-bottom: calc(69px / #{$lose-m})\\n\\n  .products__title\\n    margin-bottom: calc(67px / #{$lose-m})\\n    margin-top: calc(67px / #{$lose-m})\\n\\n@media(max-width: 991px)\\n  .category\\n    .container-inner\\n      padding-top: calc(25px / #{$lose-s})\\n      padding-bottom: calc(69px / #{$lose-s})\\n\\n  .products__title\\n    margin-bottom: calc(67px / #{$lose-s})\\n    margin-top: calc(67px / #{$lose-s})\\n\\n@media(max-width: 767px)\\n  .category\\n    .container-inner\\n      padding-top: calc(25px / #{$lose-xs})\\n      padding-bottom: calc(69px / #{$lose-xs})\\n\\n  .products__title\\n    margin-bottom: calc(67px / #{$lose-xs})\\n    margin-top: calc(67px / #{$lose-xs})\\n\\n@media(max-width: 575px)\\n  .category\\n    .container-main\\n      padding-left: 0\\n      padding-right: 0\\n    .container-inner\\n      padding-top: calc(1.302vw * #{$gain-m})\\n      padding-bottom: calc(3.594vw * #{$gain-m})\\n      padding-left: 15px\\n      padding-right: 15px\\n\\n  .products__title\\n    margin-bottom: calc(3.490vw * #{$gain-m})\\n    margin-top: calc(3.490vw * #{$gain-m})\\n</style>\\n\",\"import mod from \\\"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Category.vue?vue&type=script&lang=js&\\\"; export default mod; export * from \\\"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Category.vue?vue&type=script&lang=js&\\\"\",\"import { render, staticRenderFns } from \\\"./Category.vue?vue&type=template&id=9ddba284&\\\"\\nimport script from \\\"./Category.vue?vue&type=script&lang=js&\\\"\\nexport * from \\\"./Category.vue?vue&type=script&lang=js&\\\"\\nimport style0 from \\\"./Category.vue?vue&type=style&index=0&lang=sass&\\\"\\n\\n\\n/* normalize component */\\nimport normalizer from \\\"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\\\"\\nvar component = normalizer(\\n  script,\\n  render,\\n  staticRenderFns,\\n  false,\\n  null,\\n  null,\\n  null\\n  \\n)\\n\\nexport default component.exports\",\"import mod from \\\"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Category.vue?vue&type=style&index=0&lang=sass&\\\"; export default mod; export * from \\\"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Category.vue?vue&type=style&index=0&lang=sass&\\\"\"]}","code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-01b24e83\"],{4886:function(t,e,o){\"use strict\";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o(\"div\",{staticClass:\"category d-flex flex-column\"},[o(\"div\",{staticClass:\"container container-main d-flex flex-grow-1\"},[o(\"div\",{staticClass:\"container-inner\"},[o(\"div\",{staticClass:\"products\"},[o(\"h2\",{staticClass:\"title products__title text-center\"},[t._v(t._s(\"new\"===t.$route.name?t.$route.path.split(\"-\").join(\" \").toUpperCase().split(\"/\").pop():t.$route.params.name.split(\"-\").join(\" \").toUpperCase()))]),o(\"div\",{staticClass:\"d-flex flex-wrap align-items-start justify-content-start\"},t._l(t.products,function(e){return o(\"router-link\",{key:e.id,staticClass:\"product\",attrs:{to:{name:t.$route.name+\"-product\",params:{id:e.id}},tag:\"a\"}},[o(\"transition\",{attrs:{name:\"show-product\"}},[o(\"app-product\",{attrs:{element:e,hoverText:t.hoverText}})],1)],1)}),1)])])])])},n=[],i=(o(\"28a5\"),o(\"ac6a\"),o(\"7f7f\"),o(\"cebc\")),s=o(\"bc3a\"),c=o.n(s),r=o(\"be6f\"),l=o(\"2f62\"),u=o(\"9c9e\"),d={name:\"category\",data:function(){return{categories:\"\",collections:\"\",categoryId:\"\",collectionId:\"\",products:[],total:\"\",page:1,hoverText:\"Подробнее\",domen:\"http://localhost:8888\"}},created:function(){this.page=1,this.getCategories(),window.addEventListener(\"scroll\",this.showVisible)},beforeDestroy:function(){this.scroll(0),window.removeEventListener(\"scroll\",this.showVisible)},computed:Object(i[\"a\"])({},Object(l[\"c\"])([])),methods:{fetch:function(){var t=this;if(\"new\"===t.$route.name)var e=t.domen+\"/api/products/\"+t.$route.name+\"/\"+t.page;else if(\"category\"===t.$route.name)e=t.domen+\"/api/products/\"+t.$route.name+\"/\"+t.categoryId+\"/\"+t.page;else if(\"collection\"===t.$route.name)e=t.domen+\"/api/products/\"+t.$route.name+\"/\"+t.collectionId+\"/\"+t.page;c.a.get(e).then(function(e){for(var o=0;o<e.data.products.length;o++)t.products.push(e.data.products[o]);t.total=e.data.total}).catch(function(e){console.log(e),t.products=[],t.page=1,t.total=0})},showVisible:function(){var t=document.getElementsByClassName(\"product\"),e=t[t.length-1];this.isVisible(e)&&this.page<Math.ceil(this.total/12)&&(this.page+=1,this.fetch())},getCategories:function(){var t=this;c.a.get(t.domen+\"/api/info/main\").then(function(e){t.categories=e.data.categories,t.collections=e.data.collections,t.getCategoryId(),t.fetch()}).catch(function(t){return console.log(t)})},getCategoryId:function(){var t=this;t.products=[],t.page=1,t.total=0,\"category\"===t.$route.name?this.categories.forEach(function(e){e.name.toLowerCase().split(\" \").join(\"-\")===t.$route.params.name&&(t.categoryId=e.id)}):\"collection\"===t.$route.name&&this.collections.forEach(function(e){e.name.toLowerCase().split(\" \").join(\"-\")===t.$route.params.name&&(t.collectionId=e.id)})}},components:{\"app-product\":r[\"a\"]},mixins:[u[\"c\"],u[\"d\"]]},p=d,f=(o(\"5b8d\"),o(\"2877\")),h=Object(f[\"a\"])(p,a,n,!1,null,null,null);e[\"default\"]=h.exports},\"5b8d\":function(t,e,o){\"use strict\";var a=o(\"f09d\"),n=o.n(a);n.a},f09d:function(t,e,o){}}]);","extractedComments":[]}