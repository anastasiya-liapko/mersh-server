{"remainingRequest":"/Users/anastasia/Documents/job/vue/mersh/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anastasia/Documents/job/vue/mersh/src/components/BannerMain.vue?vue&type=style&index=0&lang=sass&","dependencies":[{"path":"/Users/anastasia/Documents/job/vue/mersh/src/components/BannerMain.vue","mtime":1565705602372},{"path":"/Users/anastasia/Documents/job/vue/mersh/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/anastasia/Documents/job/vue/mersh/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/anastasia/Documents/job/vue/mersh/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/anastasia/Documents/job/vue/mersh/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/Users/anastasia/Documents/job/vue/mersh/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anastasia/Documents/job/vue/mersh/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import '@/sass/_variables.sass'\n.banner_main\n  position: relative\n  width: 100%\n  height: auto\n  overflow: hidden\n  .container\n    position: absolute\n    top: 0\n    left: 50%\n    width: 100%\n    height: 100%\n    margin-left: -720px\n    // margin-left: -37.500vw\n    padding-left: 6.094vw\n    padding-right: 6.094vw\n    // padding-bottom: 127px\n    padding-bottom: 6.615vw\n    pointer-events: none\n    transition: height 0.3s linear\n\n.banner__slider\n  width: 100%\n  // min-height: 56vw\n  // height: auto\n  height: 49.688vw\n  background-color: $color-brown\n  img,\n  video\n    width: 100%\n    height: 49.688vw\n    object-fit: cover\n  .slick-dots\n    overflow: visible\n    li\n      box-shadow: 0 0 3px rgba(0,0,0,0.5)\n\n.banner__button\n  // width: 360px\n  // height: 80px\n  width: 18.750vw\n  height: 4.167vw\n  margin-top: auto\n  margin-left: auto\n  font-family: $font-montserrat\n  // font-size: 18px\n  // line-height: calc(80px - 2px * 2)\n  font-size: 0.938vw\n  // line-height: calc(4.167vw - 2px * 2)\n  line-height: 1\n  font-weight: 400\n  text-align: center\n  text-transform: uppercase\n  text-shadow: 1px 1px 2px black\n  box-shadow: 0 0 3px rgba(0,0,0,0.5)\n  color: $color-white\n  background-color: rgba(255, 255, 255, 0.26)\n  // border: 2px solid $color-white\n  border: 0.104vw solid $color-white\n  pointer-events: auto\n  transition: background-color 0.3s linear\n  &:hover\n    text-decoration: none\n    color: $color-white\n    background-color: transparent\n\n@media(min-width: 1775px)\n  .banner_main\n    .container\n      margin-left: -863px\n\n@media(max-width: 1489px)\n  .banner_main\n    .container\n      margin-left: -570px\n\n@media(max-width: 1199px)\n  .banner_main\n    .container\n      margin-left: -480px\n      padding-left: 15px\n      padding-right: 15px\n\n  .banner__button\n    width: 18.750vw\n    height: 4.167vw\n    font-size: 0.938vw\n\n@media(max-width: 991px)\n  .banner_main\n    .container\n      margin-left: -360px\n\n@media(max-width: 767px)\n  .banner_main\n    .container\n      margin-left: -270px\n\n  .banner__button\n    width: calc(18.750vw * #{$gain-m})\n    height: calc(4.167vw * #{$gain-m})\n    font-size: calc(0.938vw * #{$gain-m})\n    border: calc(0.104vw * #{$gain-m}) solid $color-white\n\n@media(max-width: 575px)\n  .banner_main\n    .container\n      left: 0\n      margin-left: 0\n      padding-bottom: calc(6.615vw * 1.4)\n\n  .banner__button\n    width: calc(18.750vw * #{$gain-m} * 1.4)\n    height: calc(4.167vw * #{$gain-m} * 1.4)\n    font-size: calc(0.938vw * #{$gain-m} * 1.4)\n    border: calc(0.104vw * #{$gain-m} * 1.4) solid $color-white\n\n",{"version":3,"sources":["BannerMain.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"BannerMain.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"js-bannerMain\" class=\"banner banner_main\">\n    <!-- <video class=\"banner__video\" muted=\"muted\" loop=\"loop\" preload=\"auto\" autoplay=\"autoplay\">\n      <source v-if=\"bannerVideo !== ''\" :src=\"bannerVideo\" type='video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"'>\n      Тег video не поддерживается вашим браузером.\n    </video> -->\n    <div class=\"banner__slider\">\n      <app-slick v-if=\"slider !== ''\" class=\"product-slider\"\n        ref=\"slick\"\n        :options=\"slickOptions\"\n        @beforeChange=\"handleBeforeChange\"\n        @init=\"handleInit\">\n        <div\n          class=\"position-relative\"\n          v-for=\"image in slider\"\n          v-bind:key=\"image.id\">\n          <div>\n            <a>\n              <video\n                v-if=\"image.is_video === 1\"\n                muted=\"muted\"\n                loop=\"loop\"\n                preload=\"auto\"\n                width=\"100%\">\n                <source\n                  :src=\"image.content\"\n                  type='video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"'>\n                Тег video не поддерживается вашим браузером.\n              </video>\n              <img\n                v-if=\"image.is_video === 0\"\n                :src=\"image.content\"\n                alt=\"\">\n            </a>\n          </div>\n          <i\n            class=\"product-slider__sound fas fa-volume-mute d-flex align-items-center justify-content-start\"\n            v-if=\"image.is_video === 1 && showMute\"\n            @click=\"showMute = !showMute\">\n          </i>\n          <i\n            class=\"product-slider__sound fas fa-volume-up d-flex align-items-center justify-content-start\"\n            v-if=\"image.is_video === 1 && !showMute\"\n            @click=\"showMute = !showMute\">\n          </i>\n        </div>\n      </app-slick>\n    </div>\n\n\n    <div class=\"container d-flex\">\n      <router-link class=\"banner__button d-flex align-items-center justify-content-center\"\n        :to=\"{name: 'new'}\"\n        tag=\"a\">\n        {{ buttonText }}\n      </router-link>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport Slick from 'vue-slick'\n\nexport default {\n  data () {\n    return {\n      slickOptions: {\n        slidesToShow: 1,\n        dots: true,\n        arrows: false\n      },\n      slider: '',\n      showMute: true,\n      currentSlide: 0,\n      buttonText: 'Новые поступления',\n      domen: process.env.VUE_APP_DOMEN\n    }\n  },\n  created () {\n    this.fetch()\n  },\n  mounted: function () {\n    // this.setMarginToBanner()\n    // window.addEventListener('resize', this.setMarginToBanner)\n    // window.addEventListener('scroll', this.setMarginToBanner)\n\n    // this.setHeightToBanner()\n    // window.addEventListener('resize', this.setHeightToBanner)\n    // window.addEventListener('scroll', this.setHeightToBanner)\n  },\n  beforeDestroy: function () {\n    // window.removeEventListener('resize', this.setMarginToBanner)\n    // window.removeEventListener('scroll', this.setMarginToBanner)\n\n    // window.removeEventListener('resize', this.setHeightToBanner)\n    // window.removeEventListener('scroll', this.setHeightToBanner)\n  },\n  methods: {\n    fetch () {\n      var context = this\n\n      axios.get(context.domen + '/api/info/slider')\n        .then(res => {\n          console.log(res.data)\n          context.slider = res.data\n        })\n        .catch(error => console.log(error))\n    },\n    handleBeforeChange (event, slick, currentSlide, nextSlide) {\n      if (slick.$slides[currentSlide].querySelector('video')) {\n        slick.$slides[currentSlide].querySelector('video').muted = true\n        slick.$slides[currentSlide].querySelector('video').pause()\n        this.showMute = true\n      }\n\n      if (slick.$slides[nextSlide].querySelector('video')) {\n        slick.$slides[nextSlide].querySelector('video').currentTime = 0\n        slick.$slides[nextSlide].querySelector('video').play()\n      }\n    },\n    handleInit (event, slick) {\n      var video = document.querySelector('.slick-current video')\n      if (video) {\n        video.play()\n      }\n    }\n    // setMarginToBanner () {\n    //   var header = document.getElementById('js-header')\n    //   var banner = document.getElementById('js-bannerMain')\n    //   banner.setAttribute('style', 'margin-top: -' + header.offsetHeight + 'px')\n    //   var interval = setInterval(function () {\n    //     banner.setAttribute('style', 'margin-top: -' + header.offsetHeight + 'px')\n    //   }, 10)\n    //   setTimeout(function () {\n    //     banner.setAttribute('style', 'margin-top: -' + header.offsetHeight + 'px')\n    //     clearInterval(interval)\n    //   }, 300)\n    // },\n    // setHeightToBanner () {\n    //   var header = document.getElementById('js-header')\n    //   var banner = document.querySelector('.banner')\n    //   var video = document.querySelector('.banner__video')\n    //   banner.setAttribute('style', 'height: ' + video.offsetHeight + 'px')\n    //   setTimeout(function () {\n    //     banner.setAttribute('style', 'height: ' + video.offsetHeight + 'px')\n    //   }, 300)\n    // }\n  },\n  watch: {\n    showMute: function () {\n      var video = document.querySelector('.slick-active video')\n      if (video) {\n        this.showMute ? video.muted = true : video.muted = false\n      }\n    }\n  },\n  components: {\n    'app-slick': Slick\n  }\n}\n</script>\n\n<style lang=\"sass\">\n@import '@/sass/_variables.sass'\n.banner_main\n  position: relative\n  width: 100%\n  height: auto\n  overflow: hidden\n  .container\n    position: absolute\n    top: 0\n    left: 50%\n    width: 100%\n    height: 100%\n    margin-left: -720px\n    // margin-left: -37.500vw\n    padding-left: 6.094vw\n    padding-right: 6.094vw\n    // padding-bottom: 127px\n    padding-bottom: 6.615vw\n    pointer-events: none\n    transition: height 0.3s linear\n\n.banner__slider\n  width: 100%\n  // min-height: 56vw\n  // height: auto\n  height: 49.688vw\n  background-color: $color-brown\n  img,\n  video\n    width: 100%\n    height: 49.688vw\n    object-fit: cover\n  .slick-dots\n    overflow: visible\n    li\n      box-shadow: 0 0 3px rgba(0,0,0,0.5)\n\n.banner__button\n  // width: 360px\n  // height: 80px\n  width: 18.750vw\n  height: 4.167vw\n  margin-top: auto\n  margin-left: auto\n  font-family: $font-montserrat\n  // font-size: 18px\n  // line-height: calc(80px - 2px * 2)\n  font-size: 0.938vw\n  // line-height: calc(4.167vw - 2px * 2)\n  line-height: 1\n  font-weight: 400\n  text-align: center\n  text-transform: uppercase\n  text-shadow: 1px 1px 2px black\n  box-shadow: 0 0 3px rgba(0,0,0,0.5)\n  color: $color-white\n  background-color: rgba(255, 255, 255, 0.26)\n  // border: 2px solid $color-white\n  border: 0.104vw solid $color-white\n  pointer-events: auto\n  transition: background-color 0.3s linear\n  &:hover\n    text-decoration: none\n    color: $color-white\n    background-color: transparent\n\n@media(min-width: 1775px)\n  .banner_main\n    .container\n      margin-left: -863px\n\n@media(max-width: 1489px)\n  .banner_main\n    .container\n      margin-left: -570px\n\n@media(max-width: 1199px)\n  .banner_main\n    .container\n      margin-left: -480px\n      padding-left: 15px\n      padding-right: 15px\n\n  .banner__button\n    width: 18.750vw\n    height: 4.167vw\n    font-size: 0.938vw\n\n@media(max-width: 991px)\n  .banner_main\n    .container\n      margin-left: -360px\n\n@media(max-width: 767px)\n  .banner_main\n    .container\n      margin-left: -270px\n\n  .banner__button\n    width: calc(18.750vw * #{$gain-m})\n    height: calc(4.167vw * #{$gain-m})\n    font-size: calc(0.938vw * #{$gain-m})\n    border: calc(0.104vw * #{$gain-m}) solid $color-white\n\n@media(max-width: 575px)\n  .banner_main\n    .container\n      left: 0\n      margin-left: 0\n      padding-bottom: calc(6.615vw * 1.4)\n\n  .banner__button\n    width: calc(18.750vw * #{$gain-m} * 1.4)\n    height: calc(4.167vw * #{$gain-m} * 1.4)\n    font-size: calc(0.938vw * #{$gain-m} * 1.4)\n    border: calc(0.104vw * #{$gain-m} * 1.4) solid $color-white\n\n</style>\n"]}]}