{"remainingRequest":"/Users/anastasia/Documents/job/vue/mersh/node_modules/thread-loader/dist/cjs.js!/Users/anastasia/Documents/job/vue/mersh/node_modules/babel-loader/lib/index.js!/Users/anastasia/Documents/job/vue/mersh/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/anastasia/Documents/job/vue/mersh/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anastasia/Documents/job/vue/mersh/src/views/Product.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/anastasia/Documents/job/vue/mersh/src/views/Product.vue","mtime":1565256834615},{"path":"/Users/anastasia/Documents/job/vue/mersh/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anastasia/Documents/job/vue/mersh/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anastasia/Documents/job/vue/mersh/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/anastasia/Documents/job/vue/mersh/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anastasia/Documents/job/vue/mersh/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _objectSpread from \"/Users/anastasia/Documents/job/vue/mersh/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport { mapGetters, mapActions } from 'vuex';\nimport { required } from 'vuelidate/lib/validators';\nimport Select from '@/components/Select.vue';\nimport Preview from '@/components/PopupPreview.vue';\nimport Slick from 'vue-slick';\nimport { scrollMixin } from '@/mixins';\nexport default {\n  name: 'product',\n  data: function data() {\n    return {\n      product: '',\n      productPrice: '',\n      variant: '',\n      slickOptions: {\n        slidesToShow: 1,\n        dots: true,\n        initialSlide: 0\n      },\n      showMute: true,\n      currentSlide: 0,\n      domen: process.env.VUE_APP_DOMEN,\n      validForm: false\n    };\n  },\n  created: function created() {\n    this.fetch(); // var self = this\n    // var id = this.$router.currentRoute.params.id\n    // this.products.forEach(function (elem, i) {\n    //   if (elem.id === parseInt(id)) {\n    //     self.product = elem\n    //   }\n    // })\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.scroll(0);\n  },\n  computed: _objectSpread({}, mapGetters([// 'products',\n  'selectName', 'selectShow']), {\n    options: function options() {\n      return {\n        slidesToShow: 1,\n        dots: true,\n        initialSlide: this.currentSlide\n      };\n    },\n    productId: function productId() {\n      return this.$route.params.id;\n    }\n  }),\n  validations: {\n    variant: {\n      required: required\n    }\n  },\n  methods: _objectSpread({}, mapActions(['filterSelect', 'resetSelect', 'addToCart' // 'removeFromCart'\n  ]), {\n    fetch: function fetch() {\n      var context = this;\n      axios.get(context.domen + '/api/product/' + context.productId).then(function (res) {\n        // console.log(res)\n        context.product = res.data;\n\n        if (context.product.images.length === 0) {\n          context.product.images.push({\n            'id': 1,\n            'is_video': 0,\n            'content': '/img/product-placeholder.png'\n          });\n        }\n\n        context.productPrice = res.data.info.price;\n        context.product.attributes.forEach(function (elem) {\n          elem.touched = false;\n          elem.selected = '';\n        }); // console.log(context.product)\n      }).catch(function (error) {\n        return console.log(error);\n      });\n    },\n    select: function select(value) {\n      this.variant = value[1] === '' ? '' : value[1].value;\n      this.product.attributes.forEach(function (elem) {\n        if (elem.name === value[0]) {\n          elem.touched = true;\n          elem.selected = value[1] === '' ? '' : value[1].value;\n          elem.selectedPrice = value[1] === '' ? 0 : parseFloat(value[1].price);\n        }\n      });\n      this.calcProductPrice();\n    },\n    calcProductPrice: function calcProductPrice() {\n      var priceDelta = 0;\n      this.product.attributes.forEach(function (elem) {\n        elem.selectedPrice === undefined ? '' : priceDelta += elem.selectedPrice;\n      });\n      this.productPrice = +(parseFloat(this.product.info.price) + parseFloat(priceDelta)).toFixed(10);\n    },\n    submit: function submit() {\n      var context = this;\n      context.validForm = false;\n      var item = {\n        id: this.product.info.id,\n        name: this.product.info.name,\n        category: this.product.info.category_name,\n        quantity: 1,\n        priceStart: parseFloat(this.product.info.price),\n        price: this.productPrice,\n        variant: this.variant,\n        variants: this.product.attributes\n      };\n      this.product.attributes.forEach(function (elem) {\n        elem.touched = true;\n\n        if (elem.selected === '') {\n          context.validForm = true;\n        }\n      });\n\n      if (!this.$v.$invalid && this.product.attributes.length === 0 || !this.validForm) {\n        this.addToCart(item);\n      }\n    },\n    handleBeforeChange: function handleBeforeChange(event, slick, currentSlide, nextSlide) {\n      if (slick.$slides[currentSlide].querySelector('video')) {\n        slick.$slides[currentSlide].querySelector('video').muted = true;\n        slick.$slides[currentSlide].querySelector('video').pause();\n        this.showMute = true;\n      }\n\n      if (slick.$slides[nextSlide].querySelector('video')) {\n        slick.$slides[nextSlide].querySelector('video').currentTime = 0;\n        slick.$slides[nextSlide].querySelector('video').play();\n      }\n    },\n    handleInit: function handleInit(event, slick) {\n      var video = document.querySelector('.slick-current video');\n\n      if (video) {\n        video.play();\n      }\n    },\n    showCurrentSlide: function showCurrentSlide() {\n      this.currentSlide = this.$refs.slick.currentSlide();\n    }\n  }),\n  watch: {\n    showMute: function showMute() {\n      var video = document.querySelector('.slick-active video');\n\n      if (video) {\n        this.showMute ? video.muted = true : video.muted = false;\n      }\n    }\n  },\n  components: {\n    'app-select': Select,\n    'app-preview': Preview,\n    'app-slick': Slick\n  },\n  mixins: [scrollMixin]\n};",{"version":3,"sources":["Product.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"page-product d-flex flex-column\">\n    <div class=\"container container-main d-flex flex-grow-1\">\n      <div class=\"container-inner\">\n        <h2 class=\"title page-product__title text-center\">{{ product.info.name }}</h2>\n        <router-link class=\"page-product__category d-block text-center\"\n          :to=\"{name: 'category', params: {name: product.info.category_name.split(' ').join('-').toLowerCase() }}\"\n          tag=\"a\">\n          {{ product.info.category_name }}\n        </router-link>\n\n        <div class=\"page-product__slider\">\n          <app-slick class=\"product-slider\"\n            ref=\"slick\"\n            :options=\"slickOptions\"\n            @beforeChange=\"handleBeforeChange\"\n            @click.native=\"showCurrentSlide\"\n            @init=\"handleInit\">\n            <div\n              class=\"position-relative\"\n              v-for=\"image in product.images\"\n              v-bind:key=\"image.id\">\n            <div\n              data-toggle=\"modal\"\n              data-target=\"#js-preview\">\n              <a>\n                <video\n                  v-if=\"image.is_video === 1\"\n                  muted=\"muted\"\n                  loop=\"loop\"\n                  preload=\"auto\"\n                  width=\"100%\">\n                  <source\n                    :src=\"image.content\"\n                    type='video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"'>\n                  Тег video не поддерживается вашим браузером.\n                </video>\n                <img\n                  v-if=\"image.is_video === 0\"\n                  :src=\"image.content\"\n                  alt=\"\">\n              </a>\n              </div>\n              <i\n                class=\"product-slider__sound fas fa-volume-mute d-flex align-items-center justify-content-start\"\n                v-if=\"image.is_video === 1 && showMute\"\n                @click=\"showMute = !showMute\">\n              </i>\n              <i\n                class=\"product-slider__sound fas fa-volume-up d-flex align-items-center justify-content-start\"\n                v-if=\"image.is_video === 0 && !showMute\"\n                @click=\"showMute = !showMute\">\n              </i>\n            </div>\n          </app-slick>\n        </div>\n\n        <div class=\"d-flex flex-column flex-sm-row justify-content-between\">\n          <div class=\"page-product__descr order-2 order-sm-1\">\n            <!-- <p class=\"subtitle privacy__subtitle page-product__subtitle\">{{ product.subtitle }}</p> -->\n            <div class=\"text privacy__text page-product__text\" v-html=\"product.info.txt\"></div>\n          </div>\n          <form class=\"page-product__form order-1 order-sm-2 d-flex flex-column align-items-center\">\n            <h2 class=\"title page-product__form-title text-right w-100\">{{ productPrice }} P.</h2>\n\n            <div class=\"page-product__select-wrapper select-wrapper d-flex flex-wrap align-items-center justify-content-between w-100\"\n              :class=\"{invalid: attribute.selected === '' && attribute.touched}\"\n              v-for=\"(attribute, i) in product.attributes\"\n              v-bind:key=\"i\">\n              <app-select\n                class=\"page-product__select select select_type_product\"\n                :show=\"selectShow && selectName === attribute.name\"\n                :name=\"attribute.name\"\n                :placeholder=\"attribute.name\"\n                :options=\"attribute.values\"\n                :selected=\"attribute.selected\"\n                v-on:updateOption=\"select\">\n              </app-select>\n              <transition name=\"fade\">\n                <p class=\"page-product__error-text page-product__error-text_type_select\"\n                  v-if=\"attribute.selected === '' && attribute.touched\">\n                  Это обязательное поле\n                </p>\n              </transition>\n            </div>\n\n            <button class=\"page-product__submit button button_form button_form-page button_submit\"\n              @click.prevent=\"submit\"\n              :data-toggle=\"!$v.$invalid && product.attributes.length === 0 || !validForm ? 'modal' : ''\"\n              :data-target=\"!$v.$invalid && product.attributes.length === 0 || !validForm ? '#js-success' : ''\">\n              <span class=\"button_submit-text\">В корзину</span>\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n\n    <app-preview type=\"modal\" :product=\"product\" :options=\"options\"></app-preview>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { mapGetters, mapActions } from 'vuex'\nimport { required } from 'vuelidate/lib/validators'\nimport Select from '@/components/Select.vue'\nimport Preview from '@/components/PopupPreview.vue'\nimport Slick from 'vue-slick'\nimport { scrollMixin } from '@/mixins'\n\nexport default {\n  name: 'product',\n  data () {\n    return {\n      product: '',\n      productPrice: '',\n      variant: '',\n      slickOptions: {\n        slidesToShow: 1,\n        dots: true,\n        initialSlide: 0\n      },\n      showMute: true,\n      currentSlide: 0,\n      domen: process.env.VUE_APP_DOMEN,\n      validForm: false\n    }\n  },\n  created () {\n    this.fetch()\n    // var self = this\n    // var id = this.$router.currentRoute.params.id\n    // this.products.forEach(function (elem, i) {\n    //   if (elem.id === parseInt(id)) {\n    //     self.product = elem\n    //   }\n    // })\n  },\n  beforeDestroy () {\n    this.scroll(0)\n  },\n  computed: {\n    ...mapGetters([\n      // 'products',\n      'selectName',\n      'selectShow'\n    ]),\n    options () {\n      return {\n        slidesToShow: 1,\n        dots: true,\n        initialSlide: this.currentSlide\n      }\n    },\n    productId () {\n      return this.$route.params.id\n    }\n  },\n  validations: {\n    variant: {\n      required\n    }\n  },\n  methods: {\n    ...mapActions([\n      'filterSelect',\n      'resetSelect',\n      'addToCart'\n      // 'removeFromCart'\n    ]),\n    fetch () {\n      var context = this\n\n      axios.get(context.domen + '/api/product/' + context.productId)\n        .then(res => {\n          // console.log(res)\n          context.product = res.data\n          if (context.product.images.length === 0) {\n            context.product.images.push({\n              'id': 1,\n              'is_video': 0,\n              'content': '/img/product-placeholder.png'\n            })\n          }\n          context.productPrice = res.data.info.price\n          context.product.attributes.forEach( function (elem) {\n            elem.touched = false\n            elem.selected = ''\n          })\n          // console.log(context.product)\n        })\n        .catch(error => console.log(error))\n    },\n    select (value) {\n      this.variant = value[1] === '' ? '' : value[1].value\n      this.product.attributes.forEach( function (elem) {\n        if (elem.name === value[0]) {\n          elem.touched = true\n          elem.selected = value[1] === '' ? '' : value[1].value\n          elem.selectedPrice = value[1] === '' ? 0 : parseFloat(value[1].price)\n        }\n      })\n      this.calcProductPrice()\n    },\n    calcProductPrice () {\n      var priceDelta = 0\n      this.product.attributes.forEach(function (elem) {\n        elem.selectedPrice === undefined ? '' : priceDelta += elem.selectedPrice\n      })\n      this.productPrice = +(parseFloat(this.product.info.price) + parseFloat(priceDelta)).toFixed(10)\n    },\n    submit () {\n      var context = this\n      context.validForm = false\n      var item = {\n        id: this.product.info.id,\n        name: this.product.info.name,\n        category: this.product.info.category_name,\n        quantity: 1,\n        priceStart: parseFloat(this.product.info.price),\n        price: this.productPrice,\n        variant: this.variant,\n        variants: this.product.attributes\n      }\n      this.product.attributes.forEach(function (elem) {\n        elem.touched = true\n        if (elem.selected === '') {\n          context.validForm = true\n        }\n      })\n      if (!this.$v.$invalid && this.product.attributes.length === 0 || !this.validForm) {\n        this.addToCart(item)\n      }\n    },\n    handleBeforeChange (event, slick, currentSlide, nextSlide) {\n      if (slick.$slides[currentSlide].querySelector('video')) {\n        slick.$slides[currentSlide].querySelector('video').muted = true\n        slick.$slides[currentSlide].querySelector('video').pause()\n        this.showMute = true\n      }\n\n      if (slick.$slides[nextSlide].querySelector('video')) {\n        slick.$slides[nextSlide].querySelector('video').currentTime = 0\n        slick.$slides[nextSlide].querySelector('video').play()\n      }\n    },\n    handleInit (event, slick) {\n      var video = document.querySelector('.slick-current video')\n      if (video) {\n        video.play()\n      }\n    },\n    showCurrentSlide () {\n      this.currentSlide = this.$refs.slick.currentSlide()\n    }\n  },\n  watch: {\n    showMute: function () {\n      var video = document.querySelector('.slick-active video')\n      if (video) {\n        this.showMute ? video.muted = true : video.muted = false\n      }\n    }\n  },\n  components: {\n    'app-select': Select,\n    'app-preview': Preview,\n    'app-slick': Slick\n  },\n  mixins: [scrollMixin]\n}\n</script>\n\n<style lang=\"sass\">\n@import '@/sass/_variables.sass'\n.page-product\n  .container-inner\n    // padding-top: 92px\n    // padding-bottom: 70px\n    padding-top: 4.792vw\n    padding-bottom: 3.646vw\n\n.page-product__category\n  // margin-bottom: 42px\n  margin-bottom: 2.188vw\n  font-family: $font-cormorant\n  // font-size: 20px\n  font-size: 1.042vw\n  font-weight: 700\n  line-height: 1\n  // letter-spacing: 3.1px\n  letter-spacing: 0.161vw\n  text-transform: uppercase\n  color: $color-text\n  transition: color 0.3s\n  &:hover\n    color: $color-brown\n    text-decoration: none\n\n.page-product__slider\n  // width: 1160px\n  // height: 560px\n  // margin-bottom: 69px\n  width: 60.417vw\n  height: 29.167vw\n  margin-bottom: 3.594vw\n\n.page-product__descr\n  // width: 719px\n  width: 37.448vw\n\n.page-product__subtitle,\n.page-product__text\n  padding-right: 0\n\n.page-product__form\n  // width: 360px\n  width: 18.750vw\n\n.page-product__form-title\n  // margin-bottom: 22px\n  margin-bottom: 1.146vw\n\n.page-product__select-wrapper\n  position: relative\n  // margin-bottom: 19px\n  margin-bottom: 0.990vw\n  &.invalid\n    .select__toggle\n      border: 1px solid red\n\n.page-product__error-text\n  position: absolute\n  top: 100%\n  right: 0\n  width: 100%\n  margin-top: 0\n  margin-bottom: 0\n  font-family: $font-montserrat\n  // font-size: 14px\n  font-size: 0.729vw\n  font-weight: 400\n  line-height: 1\n  color: red\n\n@media(max-width: 1199px)\n  .page-product\n    .container-inner\n      padding-top: calc(92px / #{$lose-m})\n      padding-bottom: calc(70px / #{$lose-m})\n\n  .page-product__category\n    margin-bottom: calc(42px / #{$lose-m})\n    font-size: calc(20px / #{$lose-m})\n    letter-spacing: calc(3.1px / #{$lose-m})\n\n  .page-product__slider\n    width: calc(1160px / #{$lose-m})\n    height: calc(560px / #{$lose-m})\n    margin-bottom: calc(69px / #{$lose-m})\n\n  .page-product__descr\n    width: calc(719px / #{$lose-m})\n\n  .page-product__form\n    width: calc(360px / #{$lose-m})\n\n  .page-product__form-title\n    margin-bottom: calc(22px / #{$lose-m})\n\n  .page-product__select-wrapper\n    margin-bottom: calc(19px / #{$lose-m} * 1.3)\n\n  .page-product__error-text\n    font-size: calc(14px / #{$lose-m})\n\n@media(max-width: 991px)\n  .page-product\n    .container-inner\n      padding-top: calc(92px / #{$lose-s})\n      padding-bottom: calc(70px / #{$lose-s})\n\n  .page-product__category\n    margin-bottom: calc(42px / #{$lose-s})\n    font-size: calc(20px / #{$lose-s})\n    letter-spacing: calc(3.1px / #{$lose-s})\n\n  .page-product__slider\n    width: calc(1160px / #{$lose-s})\n    height: calc(560px / #{$lose-s})\n    margin-bottom: calc(69px / #{$lose-s})\n\n  .page-product__descr\n    width: calc(719px / #{$lose-s})\n\n  .page-product__form\n    width: calc(360px / #{$lose-s})\n\n  .page-product__form-title\n    margin-bottom: calc(22px / #{$lose-s})\n\n  .page-product__select-wrapper\n    margin-bottom: calc(19px / #{$lose-s} * 1.3)\n\n  .page-product__error-text\n    font-size: calc(14px / #{$lose-s})\n\n@media(max-width: 767px)\n  .page-product\n    .container-inner\n      padding-top: calc(92px / #{$lose-xs})\n      padding-bottom: calc(70px / #{$lose-xs})\n\n  .page-product__category\n    margin-bottom: calc(42px / #{$lose-xs})\n    font-size: calc(20px / #{$lose-xs})\n    letter-spacing: calc(3.1px / #{$lose-xs})\n\n  .page-product__slider\n    width: calc(1160px / #{$lose-xs})\n    height: calc(560px / #{$lose-xs})\n    margin-bottom: calc(69px / #{$lose-xs})\n\n  .page-product__descr\n    width: calc(719px / #{$lose-xs})\n\n  .page-product__form\n    width: calc(360px / #{$lose-xs})\n\n  .page-product__form-title\n    margin-bottom: calc(22px / #{$lose-xs})\n\n  .page-product__select-wrapper\n    margin-bottom: calc(19px / #{$lose-xs} * 1.3)\n\n  .page-product__error-text\n    font-size: calc(14px / #{$lose-xs})\n\n  .page-product__submit\n    width: calc(360px / #{$lose-xs})\n    height: calc(80px / #{$lose-xs})\n    font-size: calc(18px / #{$lose-xs})\n    line-height: calc(80px / #{$lose-xs})\n\n@media(max-width: 575px)\n  .page-product\n    .container-main\n      padding: 0\n    .container-inner\n      padding-top: calc(4.792vw * #{$gain-xs} / 1.5)\n      padding-bottom: calc(3.646vw * #{$gain-xs} / 2)\n      padding-left: 15px\n      padding-right: 15px\n\n  .page-product__category\n    margin-bottom: calc(2.188vw * #{$gain-xs})\n    font-size: calc(1.042vw * #{$gain-xs} * 1.3)\n    letter-spacing: calc(0.161vw * #{$gain-xs})\n\n  .page-product__slider\n    width: calc(100vw - 30px)\n    height: calc((100vw - 30px) * 48.28 / 100)\n    margin-bottom: calc(3.594vw * #{$gain-xs} / 1.5)\n\n  .page-product__descr\n    width: 100%\n\n  .page-product__form\n    width: 100%\n    margin-bottom: calc(3.594vw * #{$gain-xs} / 1.5)\n\n  .page-product__form-title\n    margin-bottom: calc(1.146vw * #{$gain-xs} * 1.5)\n\n  .page-product__select-wrapper\n    margin-bottom: calc(0.990vw * #{$gain-xs} * 1.7)\n\n  .page-product__error-text\n    font-size: calc(0.729vw * #{$gain-xs} * 1.5)\n\n  .page-product__submit\n    width: 100%\n    height: calc(4.167vw * #{$gain-xs} * 1.2)\n    font-size: calc(0.938vw * #{$gain-xs} * 1.3)\n    line-height: calc(4.167vw * #{$gain-xs} * 1.2)\n\n</style>\n"],"sourceRoot":"src/views"}]}